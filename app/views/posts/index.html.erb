<div class="posts-view">
  <div class="container mt-4">
    <div class="row mb-4">
      <div class="col-md-12">
        <%= form_with url: posts_path, method: :get, class: "d-flex gap-3" do |f| %>
          <div class="flex-grow-1">
            <%= f.text_field :keyword, placeholder: "キーワード検索", class: "form-control" %>
          </div>
          <div class="flex-grow-1">
            <%= f.select :job_category_id, 
                JobCategory.all.map { |c| [c.name, c.id] },
                { include_blank: "業務分野を選択" },
                class: "form-select" %>
          </div>
          <div class="flex-grow-1">
            <%= f.select :style_id,
                Style.all.map { |s| [s.name, s.id] },
                { include_blank: "投稿スタイルを選択" },
                class: "form-select" %>
          </div>
          <%= f.submit "検索", class: "btn btn-primary" %>
        <% end %>
        <% if @posts.empty? && params[:keyword].present? || params[:job_category_id].present? || params[:style_id].present? %>
          <div class="alert alert-info mt-3">
            検索条件に一致する投稿が見つかりませんでした。
          </div>
        <% end %>
      </div>
    </div>
    <%= render "index", posts: @posts %>
  </div>
</div>